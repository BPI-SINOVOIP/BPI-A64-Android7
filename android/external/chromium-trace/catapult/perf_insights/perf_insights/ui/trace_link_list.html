<!DOCTYPE html>
<!--
Copyright (c) 2013 The Chromium Authors. All rights reserved.
Use of this source code is governed by a BSD-style license that can be
found in the LICENSE file.
-->

<link rel="import" href="/tracing/ui/base/ui.html">

<link rel="import" href="/perf_insights/ui/trace_link.html">

<polymer-element name="pi-ui-trace-link-list">
  <template>
    <style>
      pi-ui-trace-link {
        display: block;
      }
    </style>
    <div id="container"></div>
  </template>
  <script>
  'use strict';
  (function() {
    var BASE_TRACE_VIEWER_URL = '/perf_insights_examples/trace_viewer.html#';
    Polymer({
      ready: function() {
        this.traceUrl_ = undefined;
        this.traceName_ = '';
      },

      setTraceUrlsAndNames: function(traceUrlsAndNames) {
        while (this.$.container.hasChildNodes()) {
          this.$.container.removeChild(this.$.container.lastChild);
        }
        traceUrlsAndNames.forEach(function(urlAndName) {
          var link = document.createElement('pi-ui-trace-link');
          link.setUrlAndName(urlAndName.url, urlAndName.name);
          this.$.container.appendChild(link);
        }.bind(this));
      },

      setTraceUrls: function(traceUrls) {
        var traceUrlsAndNames = [];
        traceUrls.forEach(function(url) {
          traceUrlsAndNames.push({
            url: url,
            name: url
          });
        });
        this.setTraceUrlsAndNames(traceUrlsAndNames);
      }
  });
})();
  </script>
</polymer-element>
