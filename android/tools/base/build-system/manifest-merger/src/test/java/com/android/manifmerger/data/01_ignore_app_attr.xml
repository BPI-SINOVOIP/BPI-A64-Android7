#
# Test:
# - Attributes from the application element in a library are ignored (except name)
# - Comments from nodes ignored in libraries are not merged either.
#

@main

<manifest
    xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.app1"
    android:versionCode="100"
    android:versionName="1.0.0">

    <!-- Source comments are preserved as-is. -->
    <application
        android:label="@string/app_name"
        android:icon="@drawable/app_icon"
        android:backupAgent="com.example.app.BackupAgentClass"
        android:restoreAnyVersion="true"
        android:allowBackup="true"
        android:killAfterRestore="true"
        android:name="com.example.TheApp" >
    </application>

</manifest>

@lib1

<manifest
    xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.app1"
    android:versionCode="100"
    android:versionName="1.0.0">

    <!-- The attributes from <application> in a library are not merged nor checked
         except for 'name' and 'backupAgent' which must match.
         This comment is ignored. -->
    <application
        android:label="@string/lib_name"
        android:icon="@drawable/lib_icon"
        android:name="com.example.TheApp" >
    </application>

</manifest>

@result

<manifest
    xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.app1"
    android:versionCode="100"
    android:versionName="1.0.0">

    <!-- Source comments are preserved as-is. -->
    <application
        android:label="@string/app_name"
        android:icon="@drawable/app_icon"
        android:backupAgent="com.example.app.BackupAgentClass"
        android:restoreAnyVersion="true"
        android:allowBackup="true"
        android:killAfterRestore="true"
        android:name="com.example.TheApp" >
    </application>

</manifest>

@errors

